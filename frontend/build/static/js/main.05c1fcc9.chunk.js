(this.webpackJsonpdjangomodel=this.webpackJsonpdjangomodel||[]).push([[0],{145:function(e,t,a){e.exports=a.p+"static/media/1.ef269d9c.jpg"},146:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},152:function(e,t,a){e.exports=a(286)},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},24:function(e,t,a){e.exports=a.p+"static/media/full-screen-image-3.ef9c8d65.jpg"},286:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),l=a.n(s),i=a(23),o=a(56),c=a(128),m=a(22),u=a(150),d=a(33),p=a(130),h=a(69),E=a(103),f=a(13),g=a.n(f),v=a(28),b=a(84),N=a.n(b),y=a(7),O=a(51),w=a.n(O),S=a(58),C=a.n(S);w.a.interceptors.request.use((function(e){return C.a.start(),e}),(function(e){return C.a.done(),Promise.reject(e)})),w.a.interceptors.response.use((function(e){return C.a.done(),e}),(function(e){return C.a.done(),Promise.reject(e)}));var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(v.a)({},e,{Authorization:"Bearer "+x.getAccessToken()})},k=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r){var s=z.getState();return x.isAccessTokenExpired(s.auth)?z.dispatch(D()).then((function(r){return w()({method:e,url:t,data:a,headers:I(n)})})):w()({method:e,url:t,data:a,headers:I(n)})}return w()({method:e,url:t,data:a,headers:n})},j={};["get","post","put","patch","delete"].forEach((function(e){j[e]=k.bind(null,e)}));var _,T=j,x=new function e(){var t=this;Object(y.a)(this,e),this.login=function(e,t){return T.post("/api/auth/login",{email:e,password:t},{},!1)},this.register=function(e,t,a,n){return T.post("/api/auth/register",{firstName:e,lastName:t,email:a,password:n},{},!1)},this.refreshToken=function(e){return T.post("/api/auth/token/refresh",e,{},!1)},this.getUserInfo=function(){return T.get("/api/auth/user")},this.getAccessToken=function(){var e=z.getState();return e.auth.access?e.auth.access.token:null},this.getRefreshToken=function(){var e=z.getState();return e.auth.refresh?e.auth.refresh.token:null},this.isAccessTokenExpired=function(e){return!e.access||!e.access.exp||1e3*e.access.exp-(new Date).getTime()<5e3},this.isRefreshTokenExpired=function(e){return!e.refresh||!e.refresh.exp||1e3*e.refresh.exp-(new Date).getTime()<5e3},this.isAuthenticated=function(e){return!t.isRefreshTokenExpired(e)},this.updateProfile=function(e){return T.put("/api/auth/user",e)}},D=function(){return function(e,t){var a=t().auth.refresh.token;return e({type:"auth/REFRESH_TOKEN_REQUEST"}),x.refreshToken({refresh:a}).then((function(t){e({type:"auth/REFRESH_TOKEN_SUCCESS",payload:t.data})})).catch((function(t){e({type:"auth/REFRESH_TOKEN_FAILURE"})}))}},R=function(){return function(e){return e({type:"auth/GET_USER_INFO_REQUEST"}),x.getUserInfo().then((function(t){e({type:"auth/GET_USER_INFO_SUCCESS",payload:t.data})})).catch((function(t){e({type:"auth/GET_USER_INFO_FAILURE"})}))}},P={isFetching:!1,access:void 0,refresh:void 0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/LOGIN_SUCCESS":case"auth/REFRESH_TOKEN_SUCCESS":return Object(v.a)({},e,{access:Object(v.a)({token:t.payload.access},N()(t.payload.access)),refresh:Object(v.a)({token:t.payload.refresh},N()(t.payload.refresh)),isFetching:!1});case"auth/LOGIN_REQUEST":case"auth/REFRESH_TOKEN_REQUEST":case"auth/GET_USER_INFO_REQUEST":return Object(v.a)({},e,{isFetching:!0});case"auth/LOGIN_FAILURE":case"auth/LOGOUT":case"auth/REFRESH_TOKEN_FAILURE":case"auth/GET_USER_INFO_FAILURE":return P;case"auth/GET_USER_INFO_SUCCESS":return Object(v.a)({},e,{isFetching:!1,user:t.payload});default:return e}},F=a(133),L=a(30),H=Object(L.a)(),M=Object(p.createFilter)("auth",["access","refresh"]),U=Object(h.persistReducer)({key:"polls",storage:u.a,whitelist:["auth"],transforms:[M]},(_=H,Object(d.c)({router:Object(o.b)(_),auth:A,toastr:f.reducer}))),q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,z=Object(d.e)(U,{},q(Object(d.a)(F.a,Object(E.a)(H)))),W=Object(h.persistStore)(z),G=(a(199),a(200),a(201),a(202),a(203),a(65)),B=Object(m.connect)((function(e){return{isAuthenticated:x.isAuthenticated(e.auth)}}),null)((function(e){var t=e.component,a=e.isAuthenticated,n=Object(G.a)(e,["component","isAuthenticated"]);return r.a.createElement(i.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),V=a(9),K=a(11),Q=a(10),Y=a(12),J=a(43),X=a(294),Z=a(32),$=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).mobileSidebarToggle=a.mobileSidebarToggle.bind(Object(J.a)(a)),a.state={width:window.innerWidth},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"activeRoute",value:function(e){return window.location.pathname.indexOf(e)>-1?"active":""}},{key:"mobileSidebarToggle",value:function(e){document.documentElement.classList.toggle("nav-open")}},{key:"updateWidth",value:function(){this.setState({width:window.innerWidth})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateWidth.bind(this))}},{key:"render",value:function(){return r.a.createElement(X.a,{collapseOnSelect:!0,inverse:!0,className:"navbar-primary navbar-transparent navbar-absolute"},r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Brand,null,r.a.createElement(Z.b,{to:"/dashboard",className:"nav-link"},(this.state.width,"Home"))),r.a.createElement(X.a.Toggle,{onClick:this.mobileSidebarToggle})),r.a.createElement(X.a.Collapse,null,r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",{className:this.activeRoute("login")},r.a.createElement(Z.b,{to:"/login",className:"nav-link"},r.a.createElement("i",{className:"fa fa-drivers-license-o"}),r.a.createElement("p",null,"Login"))),r.a.createElement("li",{className:this.activeRoute("register")},r.a.createElement(Z.b,{to:"/register",className:"nav-link"},r.a.createElement("i",{className:"fa fa-user-circle-o"}),r.a.createElement("p",null,"Register"))))))}}]),t}(n.Component),ee=a(138),te=a(287),ae=a(288),ne=a(289),re=a(298),se=a(290),le=a(295),ie=a(39),oe=function(e){function t(){return Object(y.a)(this,t),Object(K.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card"+(this.props.hidden?" card-hidden":"")+(this.props.calendar?" card-calendar":"")+(this.props.plain?" card-plain":"")+(this.props.wizard?" card-wizard":"")},void 0!==this.props.title||void 0!==this.props.category?r.a.createElement("div",{className:"header"+(this.props.textCenter?" text-center":"")},r.a.createElement("h4",{className:"title"},this.props.title),r.a.createElement("p",{className:"category"},this.props.category)):"",r.a.createElement("div",{className:"content"+(this.props.ctAllIcons?" all-icons":"")+(this.props.ctFullWidth?" content-full-width":"")+(this.props.ctTextCenter?" text-center":"")+(this.props.tableFullWidth?" table-full-width":"")},this.props.content),void 0!==this.props.stats||void 0!==this.props.legend?r.a.createElement("div",{className:"footer"+(this.props.ftTextCenter?" text-center":"")},void 0!==this.props.legend?r.a.createElement("div",{className:"legend"},this.props.legend):null,void 0!==this.props.stats?r.a.createElement("hr",null):null,void 0!==this.props.stats?r.a.createElement("div",{className:"stats"},this.props.stats):null):null)}}]),t}(n.Component),ce=a(297),me=a(3),ue=a.n(me),de=function(e){function t(){return Object(y.a)(this,t),Object(K.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fill,a=e.simple,n=e.pullRight,s=e.block,l=e.wd,i=e.round,o=e.icon,c=e.neutral,m=e.twitter,u=e.facebook,d=e.google,p=e.linkedin,h=e.pinterest,E=e.youtube,f=e.tumblr,g=e.github,v=e.behance,b=e.dribbble,N=e.reddit,y=e.stumbleupon,O=Object(G.a)(e,["fill","simple","pullRight","block","wd","round","icon","neutral","twitter","facebook","google","linkedin","pinterest","youtube","tumblr","github","behance","dribbble","reddit","stumbleupon"]),w=ue()({"btn-fill":t,"btn-simple":a,"pull-right":n,"btn-block":s,"btn-wd":l,"btn-round":i,"btn-icon":o,"btn-neutral":c,"btn-social btn-twitter":m,"btn-social btn-facebook":u,"btn-social btn-google":d,"btn-social btn-linkedin":p,"btn-social btn-pinterest":h,"btn-social btn-youtube":E,"btn-social btn-tumblr":f,"btn-social btn-github":g,"btn-social btn-behance":v,"btn-social btn-dribbble":b,"btn-social btn-reddit":N,"btn-social btn-stumbleupon":y});return r.a.createElement(ce.a,Object.assign({className:w},O))}}]),t}(n.Component),pe=a(66),he=a(293),Ee=function(e){return r.a.createElement(he.a,{show:e.show,onHide:e.dismiss,backdrop:!!e.enableEscape||"static",keyboard:e.enableEscape},r.a.createElement(he.a.Header,{closeButton:!0},r.a.createElement(he.a.Title,null,e.title)),r.a.createElement(he.a.Body,null,e.confirmation),r.a.createElement(he.a.Footer,null,"null"!==e.cancelLabel&&r.a.createElement(de,{simple:!0,onClick:e.dismiss},e.cancelLabel),r.a.createElement(de,{bsStyle:"success",fill:!0,onClick:e.proceed},e.okLabel)))};Ee.defaultProps={okLabel:"OK",cancelLabel:"Cancel",enableEscape:!0};var fe=Object(pe.confirmable)(Ee),ge=a(68),ve=a.n(ge),be=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},Ne=Object(pe.createConfirmation)(fe),ye=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).handleLogin=function(e){e.preventDefault();var t=e.target.elements.email.value,n=e.target.elements.password.value,r=a.state.errors;return""===t?(r.email="Email is required",void a.setState({errors:r})):be(t)?""===n?(r.password="Password is required",void a.setState({errors:r})):void a.props.login(t,n).catch((function(e){console.log(e.response.data.non_field_errors),"register"===e.response.data.non_field_errors?(f.toastr.error("Login Failed!","Please register"),a.props.history.push("/register")):"email"===e.response.data.non_field_errors&&(f.toastr.error("Login Failed!","Please verify your email address"),a.props.history.push("/login/email_verification"))})):(r.email="Email is invalid.",void a.setState({errors:r}))},a.handleChangeInput=function(e){var t=a.state.errors;""!==t[e.target.name]&&(t[e.target.name]="",a.setState(t))},a.state={cardHidden:!0,errors:{email:"",password:""}},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){setTimeout(function(){this.setState({cardHidden:!1})}.bind(this),700)}},{key:"render",value:function(){if(this.props.isAuthenticated)return r.a.createElement(i.a,{to:"/id"});var e=this.state.errors;return r.a.createElement(ee.a,null,r.a.createElement(te.a,null,r.a.createElement(ae.a,{md:4,sm:6,mdOffset:4,smOffset:3},r.a.createElement(ne.a,{onSubmit:this.handleLogin},r.a.createElement(oe,{hidden:this.state.cardHidden,textCenter:!0,title:"Login",content:r.a.createElement("div",null,r.a.createElement(re.a,null,r.a.createElement(se.a,null,"Email address",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(le.a,{placeholder:"Enter email",name:"email",type:"email",onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},e.email)),r.a.createElement(re.a,null,r.a.createElement(se.a,null,"Password",r.a.createElement("span",{className:"star"},"*"),r.a.createElement("a",{href:"/reset_password"},r.a.createElement("span",{style:{marginLeft:"140px"}},"Forgot Password?"))),r.a.createElement(le.a,{placeholder:"Password",name:"password",type:"password",autoComplete:"off",onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},e.password))),legend:r.a.createElement(de,{bsStyle:"info",fill:!0,wd:!0,type:"submit"},"Login"),ftTextCenter:!0})))))}}]),t}(n.Component),Oe=Object(m.connect)((function(e){return{isAuthenticated:x.isAuthenticated(e.auth)}}),(function(e){return{login:function(t,a){return e(function(e,t){return function(a){return a({type:"auth/LOGIN_REQUEST"}),x.login(e,t).then((function(e){a({type:"auth/LOGIN_SUCCESS",payload:e.data})})).catch((function(e){throw a({type:"auth/LOGIN_FAILURE"}),e}))}}(t,a))}}}))(ye),we=a(24),Se=a.n(we),Ce=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).handleRegister=function(e){e.preventDefault();var t=e.target.elements.email.value,n=e.target.elements.firstName.value,r=e.target.elements.lastName.value,s=e.target.elements.password.value,l=e.target.elements.confirmPwd.value,i=a.state.errors;return""===n?(i.firstName="First name is required",void a.setState({errors:i})):""===r?(i.lastName="Last name is required",void a.setState({errors:i})):""===t?(i.email="Email is required",void a.setState({errors:i})):be(t)?""===s?(i.password="Password is required",void a.setState({errors:i})):l!==s?(i.confirmPwd="Password does not match",void a.setState({errors:i})):void T.post("/api/auth/register",{first_name:n,last_name:r,email:t,password:s},{},!1).then((function(e){f.toastr.success("Success!","User was successfully registered."),a.props.history.push("/login")})).catch((function(e){400===e.response.status&&(f.toastr.error("Fail!","This email has already registered, please login or use another email to signup"),a.props.history.push("/login"))})):(i.email="Email is invalid.",void a.setState({errors:i}))},a.handleChangeInput=function(e){var t=a.state.errors;""!==t[e.target.name]&&(t[e.target.name]="",a.setState(t))},a.state={cardHidden:!0,errors:{email:"",firstName:"",lastName:"",password:"",confirmPwd:""}},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){setTimeout(function(){this.setState({cardHidden:!1})}.bind(this),700)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement("div",{className:"wrapper wrapper-full-page"},r.a.createElement("div",{className:"full-page login","data-color":"black","data-image":Se.a},r.a.createElement("div",{className:"content"},r.a.createElement(ee.a,null,r.a.createElement(te.a,null,r.a.createElement(ae.a,{md:5,sm:6,mdOffset:4,smOffset:3},r.a.createElement(ne.a,{onSubmit:this.handleRegister},r.a.createElement(oe,{hidden:this.state.cardHidden,textCenter:!0,title:"Register",content:r.a.createElement("div",null,r.a.createElement(re.a,null,r.a.createElement(se.a,null,"First Name",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(le.a,{placeholder:"First Name",name:"firstName",type:"text",onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},e.firstName)),r.a.createElement(re.a,null,r.a.createElement(se.a,null,"Last Name",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(le.a,{placeholder:"Last Name",name:"lastName",type:"text",onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},e.lastName)),r.a.createElement(re.a,null,r.a.createElement(se.a,null,"Email address",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(le.a,{placeholder:"Email Address",name:"email",type:"email",onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},e.email)),r.a.createElement(re.a,null,r.a.createElement(se.a,null,"Password",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(le.a,{placeholder:"Password",name:"password",type:"password",autoComplete:"off",onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},e.password)),r.a.createElement(re.a,null,r.a.createElement(se.a,null,"Confirm Password",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(le.a,{placeholder:"Confirm Password",name:"confirmPwd",type:"password",autoComplete:"off",onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},e.confirmPwd))),legend:r.a.createElement(de,{bsStyle:"info",fill:!0,wd:!0,type:"submit"},"Register"),ftTextCenter:!0})))))),r.a.createElement("div",{className:"full-page-background",style:{backgroundImage:"url("+Se.a+")"}}))))}}]),t}(n.Component),Ie=a(31),ke=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).handleChangeInput=function(e){var t=a.state.errors;""!==t[e.target.name]&&(t[e.target.name]="",a.setState({errors:t})),a.setState(Object(Ie.a)({},e.target.name,e.target.value))},a.handleSave=function(e){if(e.preventDefault(),""===a.state.email){var t=a.state.errors;return t.email="Email is required.",void a.setState({errors:t})}if(!be(a.state.email)){var n=a.state.errors;return n.email="Email is invalid.",void a.setState({errors:n})}x.updateProfile({first_name:a.state.firstName,last_name:a.state.lastName,email:a.state.email,phone_number:a.state.phoneNumber}).then((function(e){a.props.updateProfile(e.data),f.toastr.success("Success!","Profile was successfully updated.")})).catch((function(e){var t=a.state.errors,n=e.response.data;for(var r in n)t[r]=n[r][0],a.setState({errors:t})}))},a.state={email:a.props.user.email,firstName:a.props.user.first_name,lastName:a.props.user.last_name,errors:{email:"",firstName:"",lastName:""}},a.props.user.phone_number?a.state.phoneNumber=a.props.user.phone_number:a.state.phoneNumber="",a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.state,t=e.errors,a=e.email,n=e.firstName,s=e.lastName,l=e.phoneNumber;return this.props.user?r.a.createElement("div",{className:"main-content"},r.a.createElement(ee.a,{fluid:!0},r.a.createElement(te.a,null,r.a.createElement(ae.a,{md:6},r.a.createElement(ne.a,{horizontal:!0},r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"First Name",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(le.a,{placeholder:"First Name",type:"text",name:"firstName",value:n,onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},t.firstName))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Last Name",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(le.a,{placeholder:"Last Name",type:"text",name:"lastName",value:s,onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},t.lastName))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Email",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(le.a,{placeholder:"Email",type:"email",name:"email",value:a,disabled:!0}))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Phone Number"),r.a.createElement(ae.a,{md:9},r.a.createElement(le.a,{placeholder:"Phone Number",type:"text",name:"phoneNumber",value:l,onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},t.phoneNumber))),r.a.createElement(re.a,null,r.a.createElement(ae.a,{md:3}),r.a.createElement(ae.a,{md:9},r.a.createElement(de,{bsStyle:"info",pullRight:!0,fill:!0,onClick:this.handleSave},"Update Profile")))))))):null}}]),t}(n.Component),je={updateProfile:function(e){return{type:"auth/GET_USER_INFO_SUCCESS",payload:e}}},_e=Object(m.connect)((function(e){return{user:e.auth.user}}),je)(ke),Te=a(148),xe=a(292),De=a(299),Re=a(291),Pe=a(70),Ae=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).handleChangeInput=function(e){var t=a.state.errors;""!==t[e.target.name]&&(t[e.target.name]="",a.setState({errors:t})),a.setState(Object(Ie.a)({},e.target.name,e.target.value))},a.onClickAdd=function(){var e=a.state.errors;return""===a.state.idName?(e.idName="ID name is required.",void a.setState({errors:e})):""===a.state.idInfo?(e.idInfo="ID info is required.",void a.setState({errors:e})):void T.post("/api/id/",{id_name:a.state.idName,id_type:a.state.idType,id_role:a.state.multipleSelect,id_info:a.state.idInfo,status:a.state.status}).then((function(e){f.toastr.success("Success!","ID was successfully added."),a.props.onSubmit(e.data)})).catch((function(t){for(var n in console.error(t),t.response.data.errors)e[n]=t.response.data.errors[n],a.setState({errors:e});f.toastr.error("Fail!","Failed to add ID.")}))},a.state={idName:"",idType:"Entity",idInfo:"",multipleSelect:null,status:"Active",errors:{idName:"",idInfo:""}},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.errors,n=t.idName,s=t.idType,l=t.idInfo,i=t.status,o=this.props,c=o.show,m=o.onHide;return r.a.createElement(he.a,{show:c,onHide:m},r.a.createElement(he.a.Header,{closeButton:!0},r.a.createElement(he.a.Title,null,"Add ID")),r.a.createElement(he.a.Body,null,r.a.createElement(ne.a,{horizontal:!0},r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Name",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(le.a,{placeholder:"ID Name",type:"text",name:"idName",value:n,onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},a.idName))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Type",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(Re.a,{type:"select",className:"browser-default custom-select",name:"idType",value:s,onChange:this.handleChangeInput,style:{fontSize:16,marginTop:10}},r.a.createElement("option",{value:"Entity"},"Entity"),r.a.createElement("option",{value:"Individual"},"Individual")))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Status",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(Re.a,{type:"select",className:"browser-default custom-select",name:"status",value:i,onChange:this.handleChangeInput,style:{fontSize:16,marginTop:10}},r.a.createElement("option",{value:"Active"},"Active"),r.a.createElement("option",{value:"Deleted"},"Deleted"),r.a.createElement("option",{value:"OnHold"},"OnHold")))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Roles",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(Pe.a,{className:"react-select info",classNamePrefix:"react-select",placeholder:"Choose Roles",name:"multipleSelect",closeMenuOnSelect:!1,isMulti:!0,value:this.state.multipleSelect,onChange:function(t){return e.setState({multipleSelect:t})},options:[{value:"",label:" Multiple Options",isDisabled:!0},{value:"2",label:"Customer"},{value:"3",label:"Vendor"},{value:"4",label:"Lead"},{value:"5",label:"Contact"},{value:"6",label:"Employee"},{value:"7",label:"Contractor"}]}))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Info",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(le.a,{rows:"5",componentClass:"textarea",placeholder:"Info",name:"idInfo",value:l,onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},a.idInfo))))),r.a.createElement(he.a.Footer,null,r.a.createElement(de,{simple:!0,onClick:m},"Cancel"),r.a.createElement(de,{bsStyle:"success",fill:!0,onClick:this.onClickAdd},"Add")))}}]),t}(n.Component),Fe=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).handleChangeInput=function(e){var t=a.state.errors;""!==t[e.target.name]&&(t[e.target.name]="",a.setState({errors:t})),a.setState(Object(Ie.a)({},e.target.name,e.target.value))},a.onClickSave=function(){var e=a.state.errors;return""===a.state.idName?(e.idName="ID name is required.",void a.setState({errors:e})):""===a.state.idInfo?(e.idInfo="ID info is required.",void a.setState({errors:e})):void T.put("/api/id/".concat(a.props.selectedID.id,"/"),{id_name:a.state.idName,id_type:a.state.idType,id_role:a.state.multipleSelect,id_info:a.state.idInfo,status:a.state.status}).then((function(e){f.toastr.success("Success!","ID was successfully updated."),a.props.onSubmit(e.data)})).catch((function(t){for(var n in console.error(t),t.response.data.errors)e[n]=t.response.data.errors[n],a.setState({errors:e});f.toastr.error("Fail!","Failed to update ID.")}))},a.state={idName:a.props.selectedID.id_name,idInfo:a.props.selectedID.info,status:a.props.selectedID.status,idType:a.props.selectedID.id_type,multipleSelect:a.props.selectedID.id_role,errors:{idName:"",idInfo:""}},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props.selectedID);var t=this.state,a=t.errors,n=t.idName,s=t.idType,l=t.idInfo,i=t.status,o=this.props,c=o.show,m=o.onHide;return r.a.createElement(he.a,{show:c,onHide:m},r.a.createElement(he.a.Header,{closeButton:!0},r.a.createElement(he.a.Title,null,"Edit ID")),r.a.createElement(he.a.Body,null,r.a.createElement(ne.a,{horizontal:!0},r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Name",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(le.a,{placeholder:"ID Name",type:"text",name:"idName",value:n,onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},a.idName))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Type",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(Re.a,{type:"select",className:"browser-default custom-select",name:"idType",value:s,onChange:this.handleChangeInput,style:{fontSize:16,marginTop:10}},r.a.createElement("option",{value:"Entity"},"Entity"),r.a.createElement("option",{value:"Individual"},"Individual")))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Status",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(Re.a,{type:"select",className:"browser-default custom-select",name:"status",value:i,onChange:this.handleChangeInput,style:{fontSize:16,marginTop:10}},r.a.createElement("option",{value:"Active"},"Active"),r.a.createElement("option",{value:"Deleted"},"Deleted"),r.a.createElement("option",{value:"OnHold"},"OnHold")))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Roles",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(Pe.a,{className:"react-select info",classNamePrefix:"react-select",placeholder:"Choose Roles",name:"multipleSelect",closeMenuOnSelect:!1,isMulti:!0,value:this.state.multipleSelect,onChange:function(t){return e.setState({multipleSelect:t})},options:[{value:"",label:" Multiple Options",isDisabled:!0},{value:"2",label:"Customer"},{value:"3",label:"Vendor"},{value:"4",label:"Lead"},{value:"5",label:"Contact"},{value:"6",label:"Employee"},{value:"7",label:"Contractor"}]}))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Info",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(le.a,{rows:"5",componentClass:"textarea",placeholder:"Info",name:"idInfo",value:l,onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},a.idInfo))))),r.a.createElement(he.a.Footer,null,r.a.createElement(de,{simple:!0,onClick:m},"Cancel"),r.a.createElement(de,{bsStyle:"success",fill:!0,onClick:this.onClickSave},"Save")))}}]),t}(n.Component),Le=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).showAddIdModal=function(){a.setState({showAddIdModal:!0})},a.hideAddIdModal=function(){a.setState({showAddIdModal:!1})},a.onAddId=function(e){var t=a.state.ids;t.push(e),a.setState({ids:t}),a.hideAddIdModal()},a.onEditId=function(e){var t=a.state.ids,n=t.findIndex((function(t){return t.id===e.id}));t[n]=e,a.setState({ids:t}),a.hideEditIdModal()},a.openEditIdModal=function(e,t){e.stopPropagation(),a.setState({selectedID:t,showEditIdModal:!0})},a.hideEditIdModal=function(){a.setState({selectedID:null,showEditIdModal:!1})},a.deleteId=function(e,t){e.stopPropagation(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ne(Object(v.a)({confirmation:e},t))}("Are you sure you want to delete this ID?",{title:"Delete ID"}).then((function(){T.delete("/api/id/".concat(t,"/")).then((function(e){var n=a.state.ids,r=n.findIndex((function(e){return e.id===t}));n.splice(r,1),a.setState({ids:n}),f.toastr.success("Success!","ID was successfully deleted.")})).catch((function(e){console.log(e),f.toastr.error("Fail!","Failed to delete ID.")}))}))},a.renderCell=function(e){var t=a.state,n=t.showEditIdModal,s=t.selectedID,l=r.a.createElement(xe.a,{id:"edit_tooltip"},"Edit ID"),i=r.a.createElement(xe.a,{id:"remove_tooltip"},"Delete ID");return r.a.createElement("div",null,r.a.createElement(De.a,{placement:"top",overlay:l},r.a.createElement(de,{simple:!0,icon:!0,onClick:function(t){return a.openEditIdModal(t,e.original)}},r.a.createElement("i",{className:"fa fa-edit fa-lg"}))),n&&s.id===e.original.id&&r.a.createElement(Fe,{show:n,onHide:a.hideEditIdModal,onSubmit:a.onEditId,selectedID:s}),r.a.createElement(De.a,{placement:"top",overlay:i},r.a.createElement(de,{simple:!0,icon:!0,onClick:function(t){return a.deleteId(t,e.original.id)}},r.a.createElement("i",{className:"fa fa-trash fa-lg"}))))},a.state={ids:[],selectedID:null,showAddIdModal:!1,showEditIdModal:!1},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"componentWillMount",value:function(){this.getIds()}},{key:"getIds",value:function(){var e=this;T.get("/api/id/").then((function(t){e.setState({ids:t.data})}))}},{key:"render",value:function(){var e=this.state,t=e.ids,a=e.showAddIdModal;return r.a.createElement("div",{className:"main-content"},r.a.createElement(ee.a,{fluid:!0},r.a.createElement(te.a,null,r.a.createElement(ae.a,{md:12,style:{marginBottom:30}},r.a.createElement("button",{type:"btn",className:"btn btn-info",style:{fontSize:18},onClick:this.showAddIdModal},"Add ID"),a&&r.a.createElement(Ae,Object.assign({},this.props,{show:a,onHide:this.hideAddIdModal,onSubmit:this.onAddId}))),r.a.createElement(ae.a,{md:12},r.a.createElement(oe,{title:"IDS",content:r.a.createElement(Te.a,{data:t,columns:[{Header:"NAME",accessor:"id_name",sortable:!0},{Header:"TYPE",accessor:"id_type",sortable:!0},{Header:"ROLE",accessor:"id_role",sortable:!1},{Header:"ID ADDED",accessor:"date",Cell:function(e){return r.a.createElement("span",null,ve()(e.original.updated_at).format("YYYY-MM-DD"))}},{Header:"STATUS",accessor:"status"},{Header:"INFO",accessor:"info"},{Header:"Actions",accessor:"actions",sortable:!1,filterable:!1,style:{textAlign:"center"},Cell:this.renderCell}],defaultPageSize:10,showPaginationTop:!1,showPaginationBottom:!0,className:"-striped -highlight",noDataText:"No Ids Found"})})))))}}]),t}(n.Component),He={getUserInfo:R},Me=Object(m.connect)((function(e){return{user:e.auth.user}}),He)(Le),Ue=[{path:"/login",access:"auth",name:"Login Page",icon:"pe-7s-info",component:Oe},{path:"/register",access:"auth",name:"Register Page",icon:"pe-7s-info",component:Ce},{path:"/edit_profile",access:"common",name:"EDIT PROFILE",show:"false",icon:"pe-7s-info",component:_e},{path:"/id",access:"common",name:"ID",show:"true",icon:"pe-7s-users",component:Me},{path:"/entities",access:"common",name:"Entities",show:"true",icon:"pe-7s-users",component:Me},{path:"/models",access:"common",name:"COAModels",show:"true",icon:"pe-7s-users",component:Me},{path:"/accounts",access:"common",name:"Accounts",show:"true",icon:"pe-7s-users",component:Me},{path:"/journals",access:"common",name:"Journals",show:"true",icon:"pe-7s-users",component:Me},{path:"/plans",access:"common",name:"Plans",show:"true",icon:"pe-7s-users",component:Me}],qe=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(K.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(s)))).getRoutes=function(e){return e.map((function(e,t){return"/login"===e.path?r.a.createElement(i.b,{path:e.path,component:e.component,key:t}):null}))},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"componentWillMount",value:function(){-1!==document.documentElement.className.indexOf("nav-open")&&document.documentElement.classList.toggle("nav-open")}},{key:"getPageClass",value:function(){var e="";switch(this.props.location.pathname){case"/login":e=" login";break;default:e=""}return e}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement("div",{className:"wrapper wrapper-full-page"},r.a.createElement("div",{className:"full-page"+this.getPageClass(),"data-color":"black","data-image":Se.a},r.a.createElement("div",{className:"content"},r.a.createElement(i.d,null,this.getRoutes(Ue))),r.a.createElement("div",{className:"full-page-background",style:{backgroundImage:"url("+Se.a+")"}}))))}}]),t}(n.Component),ze=a(151),We=(a(274),a(296)),Ge=function(e){function t(){return Object(y.a)(this,t),Object(K.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(X.a.Form,{pullLeft:!0,className:"navbar-search-form"},r.a.createElement(re.a,null,r.a.createElement(We.a,null,r.a.createElement(We.a.Addon,null,r.a.createElement("i",{className:"fa fa-search"})),r.a.createElement(le.a,{type:"text",placeholder:"Search..."})))))}}]),t}(n.Component),Be=a(145),Ve=a.n(Be),Ke=a(146),Qe=a.n(Ke),Ye=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).getCollapseStates=function(e){var t={};return e.map((function(e,n){return e.collapse&&(t=Object(v.a)(Object(Ie.a)({},e.state,a.getCollapseInitialState(e.views)),a.getCollapseStates(e.views),{},t)),null})),t},a.createLinks=function(e){var t=a.props.user?a.props.user.user_role:"";return e.map((function(e,n){if(e.redirect)return null;if(e.collapse){var s={};return s[e.state]=!a.state[e.state],r.a.createElement("li",{className:a.getCollapseInitialState(e.views)?"active":"",key:n},r.a.createElement("a",{href:"#pablo",onClick:function(e){e.preventDefault(),a.setState(s)}},r.a.createElement("i",{className:e.icon}),r.a.createElement("p",null,e.name,r.a.createElement("b",{className:a.state[e.state]?"caret rotate-180":"caret"}))),r.a.createElement(ze.a,{in:a.state[e.state]},r.a.createElement("ul",{className:"nav"},a.createLinks(e.views))))}return e.access!==t&&"common"!==e.access||"true"!==e.show?void 0:r.a.createElement("li",{className:a.activeRoute(e.path),key:n},r.a.createElement(Z.b,{to:e.path,className:"nav-link",activeClassName:"active"},e.icon?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:e.icon}),r.a.createElement("p",null,e.name)):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"sidebar-mini"},e.mini),r.a.createElement("span",{className:"sidebar-normal"},e.name))))}))},a.activeRoute=function(e){return a.props.location.pathname.indexOf(e)>-1?"active":""},a.state=Object(v.a)({},a.getCollapseStates(Ue),{openAvatar:!1,width:window.innerWidth}),a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"getCollapseInitialState",value:function(e){for(var t=0;t<e.length;t++){if(e[t].collapse&&this.getCollapseInitialState(e[t].views))return!0;if(-1!==window.location.href.indexOf(e[t].path))return!0}return!1}},{key:"updateDimensions",value:function(){this.setState({width:window.innerWidth})}},{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this))}},{key:"render",value:function(){var e=this,t=this.props.user?this.props.user.first_name?this.props.user.first_name+" "+this.props.user.last_name:this.props.user.email:"";return r.a.createElement("div",{className:"sidebar","data-color":this.props.color,"data-image":this.props.image},this.props.hasImage?r.a.createElement("div",{className:"sidebar-background",style:{backgroundImage:"url("+this.props.image+")"}}):"",r.a.createElement("div",{className:"logo"},r.a.createElement("a",{href:"#pablo",className:"simple-text logo-mini",target:"_blank"},r.a.createElement("div",{className:"logo-img"},r.a.createElement("img",{src:Qe.a,alt:"react-logo"}))),r.a.createElement("a",{href:"#pablo",className:"simple-text logo-normal",target:"_blank"},"Dashboard")),r.a.createElement("div",{className:"sidebar-wrapper",ref:"sidebarWrapper"},r.a.createElement("div",{className:"user"},r.a.createElement("div",{className:"photo"},r.a.createElement("img",{src:Ve.a,alt:"Avatar"})),r.a.createElement("div",{className:"info"},r.a.createElement("a",{href:"#pablo",onClick:function(t){t.preventDefault(),e.setState({openAvatar:!e.state.openAvatar})}},r.a.createElement("span",null,t,r.a.createElement("b",{className:this.state.openAvatar?"caret rotate-180":"caret"}))),r.a.createElement(ze.a,{in:this.state.openAvatar},r.a.createElement("ul",{className:"nav"},r.a.createElement("li",null,r.a.createElement(Z.a,{to:"/edit_profile"},r.a.createElement("span",{className:"sidebar-mini"},"EP"),r.a.createElement("span",{className:"sidebar-normal"},"Edit Profile"))),r.a.createElement("li",null,r.a.createElement(Z.a,{to:"/sign-out"},r.a.createElement("span",{className:"sidebar-mini"},"S"),r.a.createElement("span",{className:"sidebar-normal",onClick:function(){return e.props.logout()}},"Sign Out"))))))),r.a.createElement("ul",{className:"nav"},this.state.width<=992?r.a.createElement(Ge,null):null,this.createLinks(Ue))))}}]),t}(n.Component),Je=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(K.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).getActiveRoute=function(e){for(var t=0;t<e.length;t++)if(e[t].collapse){var n=a.getActiveRoute(e[t].views);if("Welcome to Home"!==n)return n}else if(-1!==window.location.href.indexOf(e[t].path))return e[t].name;return"Welcome to Home"},a.mobileSidebarToggle=function(e){document.documentElement.classList.toggle("nav-open")},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return r.a.createElement(X.a,{fluid:!0,className:this.props.navbar?"navbar-fixed":""},r.a.createElement("div",{className:"navbar-minimize"},r.a.createElement("button",{id:"minimizeSidebar",className:"btn btn-default btn-fill btn-round btn-icon",onClick:this.props.handleMiniClick},r.a.createElement("i",{className:"fa fa-ellipsis-v visible-on-sidebar-regular"}),r.a.createElement("i",{className:"fa fa-navicon visible-on-sidebar-mini"}))),r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Brand,null,r.a.createElement("a",{href:"#pablo"},this.getActiveRoute(Ue))),r.a.createElement(X.a.Toggle,{onClick:this.mobileSidebarToggle})))}}]),t}(n.Component),Xe=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).handleMiniClick=function(){a.setState({mini:!a.state.mini}),document.body.classList.toggle("sidebar-mini")},a.getRoutes=function(e){return e.map((function(e,t){return e.collapse?a.getRoutes(e.views):"common"===e.access?r.a.createElement(i.b,{exact:!0,path:e.path,key:t,render:function(t){return r.a.createElement(e.component,t)}}):null}))},a.state={image:Se.a,color:"black",hasImage:!0,navbar:!1,mini:!1},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserInfo()}},{key:"componentDidUpdate",value:function(e){"PUSH"===e.history.action&&(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainPanel.scrollTop=0),window.innerWidth<993&&"PUSH"===e.history.action&&-1!==document.documentElement.className.indexOf("nav-open")&&document.documentElement.classList.toggle("nav-open")}},{key:"componentWillMount",value:function(){-1!==document.documentElement.className.indexOf("nav-open")&&document.documentElement.classList.toggle("nav-open")}},{key:"render",value:function(){return this.props.user?r.a.createElement("div",{className:"wrapper"},r.a.createElement(Ye,Object.assign({},this.props,{image:this.state.image,color:this.state.color,hasImage:this.state.hasImage,mini:this.state.mini})),r.a.createElement("div",{className:"main-panel"+("/maps/full-screen-maps"===this.props.location.pathname?" main-panel-maps":""),ref:"mainPanel"},r.a.createElement(Je,Object.assign({},this.props,{handleMiniClick:this.handleMiniClick,navbar:this.state.navbar})),r.a.createElement(i.d,null,this.getRoutes(Ue)))):null}}]),t}(n.Component),Ze={logout:function(){return{type:"auth/LOGOUT"}},getUserInfo:R},$e=Object(m.connect)((function(e){return{user:e.auth.user}}),Ze)(Xe),et=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).handleChangeInput=function(e){var t=a.state.errors;""!==t[e.target.name]&&(t[e.target.name]="",a.setState({errors:t})),a.setState(Object(Ie.a)({},e.target.name,e.target.value))},a.handleVerify=function(e){e.preventDefault();var t=a.state.email,n=a.state.code,r=a.state.errors;return""===t?(r.email="Email address is required",void a.setState({errors:r})):""===n?(r.code="Verification code is required",void a.setState({errors:r})):void T.post("/api/auth/verify_email",{code:n,email:t},{},!1).then((function(e){a.props.history.push("/login")})).catch((function(e){f.toastr.error("Fail!","Failed to verify email address")}))},a.handleCancel=function(){a.props.history.push("/register")},a.handleResend=function(e){e.preventDefault();var t=a.state.email,n=a.state.errors;if(""===t)return n.email="Email address is required",void a.setState({errors:n});T.post("/api/auth/resend_email",{email:t},{},!1).then((function(e){f.toastr.success("Success!","Please check your email")})).catch((function(e){f.toastr.error("Fail!","Failed to resend email")}))},a.state={cardHidden:!0,email:"",code:"",errors:{email:"",code:""}},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){setTimeout(function(){this.setState({cardHidden:!1})}.bind(this),700)}},{key:"render",value:function(){if(this.props.isAuthenticated)return r.a.createElement(i.a,{to:"/"});var e=this.state,t=e.email,a=e.code,n=e.errors;return r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement("div",{className:"wrapper wrapper-full-page"},r.a.createElement("div",{className:"full-page login","data-color":"black","data-image":Se.a},r.a.createElement("div",{className:"content"},r.a.createElement(ee.a,null,r.a.createElement(te.a,null,r.a.createElement(ae.a,{md:5,sm:6,mdOffset:4,smOffset:3},r.a.createElement(ne.a,{horizontal:!0},r.a.createElement(oe,{hidden:this.state.cardHidden,textCenter:!0,title:"Verify Your Email Address",content:r.a.createElement("div",null,r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Email",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:6},r.a.createElement(le.a,{placeholder:"Enter your email address",type:"email",name:"email",value:t,onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},n.email)),r.a.createElement(ae.a,{md:3},r.a.createElement(de,{bsStyle:"success",pullRight:!0,fill:!0,onClick:this.handleResend},"Resend"))),r.a.createElement(re.a,null,r.a.createElement(se.a,{className:"col-md-3"},"Code",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(ae.a,{md:9},r.a.createElement(le.a,{placeholder:"Enter your code",type:"text",name:"code",value:a,onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},n.code)))),legend:r.a.createElement("div",null,r.a.createElement(de,{bsStyle:"info",fill:!0,onClick:this.handleVerify},"Verify"),r.a.createElement(de,{bsStyle:"warning",pullRight:!0,fill:!0,onClick:this.handleCancel},"Cancel")),ftTextCenter:!0})))))),r.a.createElement("div",{className:"full-page-background",style:{backgroundImage:"url("+Se.a+")"}}))))}}]),t}(n.Component),tt=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=e.target.elements.email.value,n=a.state.errors;if(""===t)return n.email="Email address is required.",void a.setState(n);T.post("/api/auth/user/reset_password",{email:t},{},!1).then((function(e){f.toastr.success("Success!","Reset Password request was successfully sent."),a.props.history.push("/login")})).catch((function(e){f.toastr.error("Fail!","This is not a verified email address.")}))},a.handleChangeInput=function(e){var t=a.state.errors;""!==t[e.target.name]&&(t[e.target.name]="",a.setState(t))},a.state={cardHidden:!0,users:[],errors:{email:""}},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){setTimeout(function(){this.setState({cardHidden:!1})}.bind(this),700)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement("div",{className:"wrapper wrapper-full-page"},r.a.createElement("div",{className:"full-page login","data-color":"black","data-image":Se.a},r.a.createElement("div",{className:"content"},r.a.createElement(ee.a,null,r.a.createElement(te.a,null,r.a.createElement(ae.a,{md:4,sm:6,mdOffset:4,smOffset:3},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(oe,{hidden:this.state.cardHidden,textCenter:!0,title:"Reset your password",content:r.a.createElement("div",null,r.a.createElement("p",null,"Enter your user account's verified email address and we will send you a password reset link."),r.a.createElement(re.a,null,r.a.createElement(le.a,{placeholder:"Enter your email address",name:"email",type:"email",onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},e.email))),legend:r.a.createElement("div",null,r.a.createElement(de,{bsStyle:"info",fill:!0,wd:!0,type:"submit"},"Send Password Reset Email")),ftTextCenter:!0})))))),r.a.createElement("div",{className:"full-page-background",style:{backgroundImage:"url("+Se.a+")"}}))))}}]),t}(n.Component),at=a(147),nt=a.n(at),rt=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(K.a)(this,Object(Q.a)(t).call(this,e))).handleLogin=function(e){e.preventDefault();var t=e.target.elements.password.value,n=e.target.elements.confirmPassword.value,r=a.state.errors;return""===t?(r.password="Password is required.",void a.setState(r)):""===n?(r.confirmPassword="ConfirmPassword is required.",void a.setState(r)):t!==n?(r.confirmPassword="Password does not match.",void a.setState(r)):void T.post("/api/auth/login/create_password",{uid:a.parameters.uid,token:a.parameters.token,password:t},{},!1).then((function(e){f.toastr.success("Success!","Password was successfully reset."),a.props.history.push("/login")})).catch((function(e){f.toastr.error("Fail!","Password was already created.")}))},a.handleChangeInput=function(e){var t=a.state.errors;""!==t[e.target.name]&&(t[e.target.name]="",a.setState(t))},a.state={cardHidden:!0,errors:{password:"",confirmPassword:""}},a}return Object(Y.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){setTimeout(function(){this.setState({cardHidden:!1})}.bind(this),700)}},{key:"componentWillMount",value:function(){this.parameters=nt.a.parse(this.props.location.search),this.parameters.uid&&this.parameters.token||this.props.history.push("/login")}},{key:"render",value:function(){var e=this;if(this.props.isAuthenticated)return r.a.createElement(i.a,{to:"/"});var t=this.state.errors;return r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement("div",{className:"wrapper wrapper-full-page"},r.a.createElement("div",{className:"full-page login","data-color":"black","data-image":Se.a},r.a.createElement("div",{className:"content"},r.a.createElement(ee.a,null,r.a.createElement(te.a,null,r.a.createElement(ae.a,{md:4,sm:6,mdOffset:4,smOffset:3},r.a.createElement("form",{onSubmit:this.handleLogin},r.a.createElement(oe,{hidden:this.state.cardHidden,textCenter:!0,title:"Reset Password",content:r.a.createElement("div",null,r.a.createElement(re.a,null,r.a.createElement(se.a,null,"Password",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(le.a,{placeholder:"Password",name:"password",type:"password",autoComplete:"off",invalid:""!==t.password,onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},t.password)),r.a.createElement(re.a,null,r.a.createElement(se.a,null,"Confirm Password",r.a.createElement("span",{className:"star"},"*")),r.a.createElement(le.a,{placeholder:"Confirm Password",type:"password",autoComplete:"off",name:"confirmPassword",invalid:""!==t.confirmPassword,onChange:this.handleChangeInput}),r.a.createElement(ie.a,{className:"text-danger"},t.confirmPassword))),legend:r.a.createElement("div",null,r.a.createElement(de,{bsStyle:"info",fill:!0,wd:!0,type:"submit"},"Change Password"),r.a.createElement(de,{simple:!0,onClick:function(){return e.props.history.push("/login")}},"Cancel")),ftTextCenter:!0})))))),r.a.createElement("div",{className:"full-page-background",style:{backgroundImage:"url("+Se.a+")"}}))))}}]),t}(n.Component),st=Object(m.connect)((function(e){return{isAuthenticated:x.isAuthenticated(e.auth)}}),{})(rt);l.a.render(r.a.createElement(m.Provider,{store:z},r.a.createElement(c.a,{loading:null,persistor:W},r.a.createElement(o.a,{history:H},r.a.createElement(r.a.Fragment,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(qe,e)}}),r.a.createElement(i.b,{exact:!0,path:"/login/email_verification",component:et}),r.a.createElement(i.b,{exact:!0,path:"/register",component:Ce}),r.a.createElement(i.b,{exact:!0,path:"/reset_password",component:tt}),r.a.createElement(i.b,{exact:!0,path:"/login/reset_password",component:st}),r.a.createElement(B,{path:"/",component:$e})),r.a.createElement(g.a,{timeOut:3e3,transitionIn:"fadeIn",transitionOut:"fadeOut"}))))),document.getElementById("root"))}},[[152,1,2]]]);
//# sourceMappingURL=main.05c1fcc9.chunk.js.map